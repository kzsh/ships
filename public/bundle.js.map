{"version":3,"file":"bundle.js","sources":["../src/entities/index.js","../src/game.js","../src/renderer.js","../src/update.js","../src/main.js"],"sourcesContent":["const { abs, max, min, random } = Math\nlet id = 2\nconst G = 1\nexport const player = {\n  id: 1,\n  data: {},\n  update: (tick, e1, entities, keysDown) => {\n    if(!e1) return\n    for (const e2 of entities) {\n      if(!e2) break;\n      if (e1.id !== e2.id) {\n        const [w, h, dist] = gravitate(e1, e2)\n        bounce(e1, e2, dist, entities)\n        e1.data.dist = dist\n        e1.data.h = h\n        e1.data.w = w\n\n      }\n    }\n    const ay = keysDown[\"ArrowDown\"]\n      ? 0.1\n      : keysDown[\"ArrowUp\"]\n      ? -0.1\n      : 0;\n    const ax = keysDown[\"ArrowLeft\"]\n      ? -0.1\n      : keysDown[\"ArrowRight\"]\n      ? 0.1\n      : 0;\n\n    e1.dx = e1.dx + ax;\n    e1.dy = e1.dy + ay;\n\n    e1.x = e1.x + e1.dx;\n    e1.y = e1.y + e1.dy;\n  },\n  mass: 50,\n  radius: 10,\n  x: 300,\n  y: 300,\n  dx: 2,\n  dy: 1,\n}\nexport const makeCircle = (\n  x,\n  y,\n  mass = 1,\n  radius = 10,\n  dx = Math.random() * 2 -1,\n  dy = Math.random() * 2 -1\n) => ({\n  id: id++,\n  data: {},\n  update: (tick, e1, entities, keysDown) => {\n    if(!e1) return\n\n    if(abs(e1.x) > 2000 || abs(e1.y) > 2000 ) {\n      destroyEntity(entities, e1)\n      return\n    }\n\n    if (e1.radius <= 1 && e1.mass <= 0.1){\n      destroyEntity(entities, e1)\n      return\n    }\n\n    for (const e2 of entities) {\n      if(!e2) break;\n      if (e1.id !== e2.id) {\n        const [,, dist] = gravitate(e1, e2)\n        bounce(e1, e2, dist, entities)\n      }\n    }\n\n    e1.x = e1.x + e1.dx;\n    e1.y = e1.y + e1.dy;\n  },\n  mass,\n  radius,\n  x,\n  y,\n  dx,\n  dy,\n})\n\nconst gravitate = (e1, e2) => {\n  const w = (e2.x - e1.x)\n  const h = (e2.y - e1.y)\n  const distance = getDistance(e1, e2)\n  const attraction = newtonsLawOfUniversalGravitation(e1.mass, e2.mass, distance)\n  const { x, y } = getAttractionComponents(e1, e2, attraction)\n  e1.dx += x\n  e1.dy += y\n  return [w, h, distance]\n}\n\nconst newtonsLawOfUniversalGravitation = (mass1, mass2, distance) => {\n const force = G * ((mass1 * mass2) / distance ** 2) ;\n const attraction1 = force / mass1;\n return attraction1;\n};\n\nconst getDistance = (e1, e2) => {\n const a = Math.abs(e2.x - e1.x);\n const b = Math.abs(e2.y - e1.y);\n return Math.sqrt(a ** 2 + b ** 2);\n};\n\nconst getAttractionComponents = (e1, e2, attraction) => {\n  const direction = Math.atan2(e2.x - e1.x, e2.y - e1.y);\n  const x = Math.sin(direction) * attraction;\n  const y = Math.cos(direction) * attraction;\n\n  return {\n    x: x,\n    y: y\n  }\n}\n\nconst log = (x) => (console.log(x), x)\n\nconst bounce = (e1, e2, dist, entities) => {\n  if((dist - e1.radius - e2.radius) <= 0) {\n    const distance = getDistance(e1, e2)\n    const attraction = newtonsLawOfUniversalGravitation(e1.mass, e2.mass, distance)\n    const attraction2 = newtonsLawOfUniversalGravitation(e2.mass, e1.mass, distance)\n    const { x: x1, y: y1 } = getAttractionComponents(e1, e2, attraction * -1)\n    const { x: x2, y: y2 } = getAttractionComponents(e1, e2, attraction2)\n    e1.dx += x1\n    e1.dy += y1\n    e2.dx += x2\n    e2.dy += y2\n\n    const MASS_EXCHANGE = 0.1\n    const RADIUS_EXCHANGE = 0.1\n    if (e1.mass > e2.mass && e2.mass > 0.01 && e2.radius > 0) {\n      transferAttr(e2, e1, 'mass', MASS_EXCHANGE)\n      transferAttr(e2, e1, 'radius', RADIUS_EXCHANGE)\n      doRandom(0.2, () => {\n        e2.mass -= 0.5\n        e2.radius -= 0.1\n        entities.push(\n          makeCircle(\n            e2.x + e2.radius * 2.5 * random() - e2.radius,\n            e2.y + e2.radius * 2.5 * random() - e2.radius,\n            e2.mass * 0.01,\n            e2.radius * 0.01,\n            x1 * -4,\n            y1 * -4\n          )\n        )\n      })\n    } else if(e1.mass < e2.mass && e1.mass > 0.01 && e1.radius > 0.01) {\n      transferAttr(e1, e2, 'mass', MASS_EXCHANGE)\n      transferAttr(e1, e2, 'radius', RADIUS_EXCHANGE)\n      doRandom(0.9, () => {\n        e1.mass -= 0.5\n        e1.radius -= 0.1\n        entities.push(\n          makeCircle(\n            e1.x + e1.radius * 2.5 * random() - e1.radius,\n            e1.y + e1.radius * 2.5 * random() - e1.radius,\n            e1.mass * 0.01,\n            e1.radius * 0.01,\n            x2 * -4,\n            y2 * -4\n          )\n        )\n      })\n    }\n\n    // if(distance - e2.radius < e1.radius/2) {\n    //   destroyEntity(entities, e1)\n    // }\n    // if(distance - e1.radius < e2.radius/2) {\n    //   destroyEntity(entities, e2)\n    // }\n\n    // destroySmallEntity(entities, e1)\n    // destroySmallEntity(entities, e2)\n  }\n}\n\n\nconst transferAttr = (e1, e2, attr, qty) =>{\n  e1[attr] -= qty;\n  e2[attr] += qty\n}\n\nconst doRandom = (threshold, action) => {\n  random() < threshold && action()\n}\n\nconst destroySmallEntity = (entities, e1) => {\n  if (e1.mass <= 0.1 || e1.radius <= 0.1) {\n    destroyEntity(entities, e1)\n  }\n}\n\nconst destroyEntity = (entities, e1) => {\n  entities[entities.indexOf(e1)] = undefined\n}\n","import { makeCircle, player } from './entities'\nexport const createGame = () => {\n  const entities = [\n    player,\n    makeCircle(\n      500,\n      500,\n      1000,\n      50\n    ),\n    makeCircle(\n      1000 * Math.random() + 10,\n      1000 * Math.random() + 10,\n      Math.random() * 30,\n      Math.random() * 20\n    ),\n    makeCircle(\n      1000 * Math.random() + 10,\n      1000 * Math.random() + 10,\n      Math.random() * 30,\n      Math.random() * 20\n    ),\n    makeCircle(\n      1000 * Math.random() + 10,\n      1000 * Math.random() + 10,\n      Math.random() * 30,\n      Math.random() * 20\n    ),\n    makeCircle(\n      1000 * Math.random() + 10,\n      1000 * Math.random() + 10,\n      Math.random() * 30,\n      Math.random() * 20\n    ),\n    makeCircle(\n      1000 * Math.random() + 10,\n      1000 * Math.random() + 10,\n      Math.random() * 30,\n      Math.random() * 20\n    ),\n    makeCircle(\n      1000 * Math.random() + 10,\n      1000 * Math.random() + 10,\n      Math.random() * 30,\n      Math.random() * 20\n    ),\n    makeCircle(\n      1000 * Math.random() + 10,\n      1000 * Math.random() + 10,\n      Math.random() * 30,\n      Math.random() * 20\n    )\n]\n\n  const game = {\n    entities,\n    player\n  };\n\n  const update = (tick, keysDown) => {\n    // game.entities = game.entities.filter(e => !!e)\n    game.entities = game.entities.filter(Boolean)\n    // game.entities = game.entities.slice(0, game.entities.indexOf(undefined))\n    game.entities.forEach((e) => e?.update(tick, e, game.entities, keysDown));\n    return game;\n  };\n\n  return [game, update];\n};\n","\nimport { player } from \"./entities\"\n\nexport const render = ({ entities }, context) => {\n  const len = entities.length;\n  const style = context.strokeStyle;\n\n  renderText(context, len, {x:28, y: 28})\n  for(let x = 0; x < len; x++) {\n    const e = entities[x];\n    if(!e) break;\n\n    drawEntity(context, e)\n\n      lineBetweenEntities(context, e, {\n        x: e.x + e.dx * 5,\n        y: e.y + e.dy * 5\n      }, { color: \"#F00\" })\n\n    if(player && e.id !== player.id) {\n      // lineBetweenEntities(context, e, player)\n\n\n      // lineBetweenEntities(context, player, {\n      //   x: player.x + e.data.w,\n      //   y: player.y\n      // })\n      // lineBetweenEntities(context, player, {\n      //   x: player.x,\n      //   y: player.y + e.data.h\n      // })\n    }\n    // renderText(context, e.data.dist?.toFixed(2), {x:e.x + 14, y: e.y})\n    renderText(context, e.dx?.toFixed(2), {x:e.x + 14, y: e.y + 14})\n    renderText(context, e.dy?.toFixed(2), {x:e.x + 14, y: e.y + 28})\n  }\n}\n\n\nconst drawEntity = (context, e1) => {\n  if (e1.radius <=0) return\n  const style = context.strokeStyle;\n  context.beginPath();\n  context.strokeStyle = \"#FFF\";\n  context.arc(e1.x, e1.y, e1.radius, 0, 360);\n  context.stroke();\n  context.strokeStyle = style;\n}\n\nconst lineBetweenEntities = (context, e1, e2, { color } = {color: \"#FFF\"}) => {\n  const style = context.strokeStyle;\n  context.beginPath()\n  context.moveTo(e1.x, e1.y)\n  context.strokeStyle = color;\n  context.lineTo(e2.x, e2.y)\n  context.stroke()\n  context.strokeStyle = style;\n}\n\nconst renderText = (context, text, { x, y }) => {\n  if(text === undefined || text == null) {\n    return\n  }\n  context.beginPath()\n  context.font = '14px serif';\n  context.strokeStyle = \"#FFF\";\n  context.fillStyle = \"#FFF\";\n  context.fillText(text, x, y)\n}\n","import { createGame } from \"./game\";\nimport { render } from \"./renderer\";\nconst TARGET_FPS = 1000 / 20;\nexport function initialize() {\n  const keysDown = {};\n  const canvas = document.createElement(\"canvas\");\n  canvas.width = window.innerWidth;\n  canvas.height = window.innerHeight;\n  const context = canvas.getContext(\"2d\");\n  document.body.appendChild(canvas);\n\n  const [game, update] = createGame();\n\n  let lastTime = 0;\n  let lastRender = 0;\n\n  const performFrame = (time = 0) => {\n    const tick = time - lastTime;\n\n    lastRender = lastRender + tick;\n    if (lastRender > TARGET_FPS) {\n      update(tick, keysDown);\n      context.clearRect(0, 0, canvas.width, canvas.height);\n      render(game, context);\n      lastRender = 0;\n    }\n\n    lastTime = time;\n    window.requestAnimationFrame(performFrame);\n  };\n  const KEYS = [\n    \"ArrowDown\",\n    \"ArrowUp\",\n    \"ArrowLeft\",\n    \"ArrowRight\"\n  ]\n  document.addEventListener(\"keydown\", (e) => {\n    if(KEYS.includes(e.key)) {\n      e.preventDefault();\n      keysDown[e.key] = true;\n    }\n  });\n  document.addEventListener(\"keyup\", (e) => {\n    if(KEYS.includes(e.key)) {\n      e.preventDefault();\n      keysDown[e.key] = false;\n    }\n  });\n\n  performFrame();\n}\n","import { initialize } from \"./update.js\";\n\ninitialize();\n"],"names":[],"mappings":"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"}